<template>
  <div v-if="$fetchState.pending" class="fetch-pending"></div>
  <div v-else-if="$fetchState.error" class="fetch-error">
    Что то пошло не так =(
  </div>
  <div v-else class="header" :class="{ header_dark: isDark }">
    <!-- NAV-MENU -->
    <div
      class="container-fluid widgets widget-2"
      :class="toggleWidget2 ? 'widget_active' : ''"
    >
      <div class="container">
        <widget
          :is-open-on-init="isWidgetOpen"
          @onWidgetChange="widgetEventHandler"
        />
      </div>
    </div>
    <div
      id="nav-menu"
      class="nav-menu"
      :class="toggle ? 'menu_active' : ''"
      @keydown.esc="$event.toggle = false"
    >
      <div class="container-fluid header-2 nav-menu-header-2">
        <div v-if="header" class="logo-side">
          <div v-if="headerSite && headerSite.site" class="row">
            <div class="col-md-5 col-12 text-center text-md-left">
              <NuxtLink :to="localePath('/')">
                <div class="logo d-md-flex" @click="toggle = !toggle">
                  <i>
                    <div class="logomark">
                      <img
                        v-if="isDark"
                        src="/image/header/uz-logoi-white.svg"
                        alt="Uz logo white"
                      />
                      <img
                        v-else
                        src="/image/header/uz-logoi.svg"
                        alt="Uz logo white"
                      />
                    </div>
                  </i>
                  <!-- <h1 v-html="headerSite.site.title"></h1> -->
                </div>
              </NuxtLink>
            </div>
            <div
              v-if="headerSite.site.quote"
              class="col-md-7 col-12 quote-nav quote text-center text-md-right"
            >
              <span class="quote-span">{{ headerSite.site.quote_author }}</span>
            </div>
          </div>
          <div
            class="container header-bottom nav-menu-header-bottom burger__menu"
          >
            <div class="row mt-3 justify-content-between">
              <div class="mobil_header">
                <div class="menu-btn" @click="toggle = !toggle">
                  <button class="img-fluid">
                    <i>
                      <svg
                        width="32"
                        height="32"
                        viewBox="0 0 32 32"
                        fill="none"
                        xmlns="http://www.w3.org/2000/svg"
                      >
                        <path
                          d="M8 8L24 24M8 24L24 8"
                          stroke="#85909C"
                          stroke-width="3"
                          stroke-linecap="round"
                          stroke-linejoin="round"
                        />
                      </svg>
                    </i>
                  </button>
                </div>
              </div>
              <div
                v-if="headerSite && headerSite.menu && headerSite.menu.length"
                class="col-md-11 col-12 d-lg-flex d-none justify-content-between flex-wrap"
              >
                <div
                  v-for="(items, index) in headerSite.menu"
                  :key="index"
                  class="ul-2"
                >
                  <NuxtLink :to="`/${items.url}`" class="main">
                    <span>{{ items.title }}</span>
                  </NuxtLink>
                  <template v-if="items && items.child && items.child.length">
                    <NuxtLink
                      v-for="(item, idx) in items.child"
                      :key="idx"
                      :to="`/${item.url}`"
                    >
                      <li @click="toggle = !toggle">
                        <i>
                          <svg
                            width="4"
                            height="4"
                            viewBox="0 0 4 4"
                            fill="none"
                            xmlns="http://www.w3.org/2000/svg"
                          >
                            <rect width="4" height="4" rx="2" fill="#024DA5" />
                          </svg>
                        </i>
                        {{ item.title }}
                      </li>
                    </NuxtLink>
                  </template>
                </div>
              </div>
              <div
                v-if="headerSite && headerSite.menu && headerSite.menu.length"
                class="w-100 d-lg-none"
                @click="handleMenu()"
              >
                <el-collapse
                  v-model="activeNames"
                  @click="collapseToggle(headerSite.menu)"
                >
                  <NuxtLink
                    v-for="(items, index) in headerSite.menu"
                    :key="index"
                    :to="`/${items?.url}`"
                    @click="toggle = !toggle"
                  >
                    <el-collapse-item
                      :title="items.title"
                      class="main"
                      :name="`${items.id}`"
                      :disabled="!items.child || !items.child.length"
                      @click="toggle = !toggle"
                    >
                      <template
                        v-if="items && items.child && items.child.length"
                        @click="toggle = !toggle"
                      >
                        <ul style="padding-left: 16px; list-style-type: square">
                          <NuxtLink
                            v-for="(item, i) in items.child"
                            :key="i"
                            :to="`/${item.url}`"
                            @click="toggle = !toggle"
                          >
                            <li class="hello" @click="toggle = !toggle">
                              {{ item.title }}
                            </li>
                          </NuxtLink>
                        </ul>
                      </template>
                    </el-collapse-item>
                  </NuxtLink>
                </el-collapse>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="container-fluid footer-nav">
        <div class="container">
          <div class="">
            <div class="header-info__block">
              <div class="d-flex">
                <i>
                  <svg
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M17.9995 13.9791V16.3877C18.0004 16.6113 17.9545 16.8326 17.8648 17.0375C17.775 17.2424 17.6434 17.4263 17.4783 17.5775C17.3132 17.7286 17.1183 17.8437 16.906 17.9154C16.6938 17.987 16.4689 18.0136 16.2457 17.9935C13.7702 17.725 11.3923 16.8808 9.30312 15.5286C7.35937 14.2959 5.71141 12.6512 4.47627 10.7113C3.11669 8.61679 2.27059 6.23206 2.00653 3.75036C1.98643 3.52834 2.01286 3.30457 2.08416 3.0933C2.15546 2.88203 2.27005 2.6879 2.42065 2.52325C2.57124 2.35861 2.75454 2.22706 2.95886 2.13699C3.16319 2.04691 3.38407 2.00029 3.60744 2.00008H6.02086C6.41128 1.99624 6.78977 2.13422 7.0858 2.3883C7.38182 2.64237 7.57517 2.99521 7.62981 3.38103C7.73168 4.15185 7.92059 4.9087 8.19295 5.63713C8.30118 5.9245 8.32461 6.23682 8.26045 6.53707C8.19629 6.83732 8.04723 7.11292 7.83093 7.33121L6.80925 8.35087C7.95447 10.3609 9.62206 12.0252 11.6361 13.1682L12.6578 12.1485C12.8765 11.9326 13.1527 11.7839 13.4535 11.7198C13.7544 11.6558 14.0673 11.6792 14.3552 11.7872C15.0851 12.059 15.8435 12.2476 16.6158 12.3492C17.0066 12.4042 17.3635 12.6007 17.6186 12.9012C17.8737 13.2017 18.0093 13.5853 17.9995 13.9791Z"
                      stroke="#024DA5"
                      stroke-width="1.4"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </i>
                <a
                  class="full-menu__tel"
                  :href="headerSite.site.phone_number"
                  >{{ headerSite.site.phone_number }}</a
                >
              </div>
              <div class="d-flex">
                <i>
                  <svg
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      fill-rule="evenodd"
                      clip-rule="evenodd"
                      d="M2.42367 4.67535C2.55834 4.30278 2.91708 4.0333 3.33352 4.0333H16.6669C17.0833 4.0333 17.442 4.30278 17.5767 4.67535L10.0002 9.97892L2.42367 4.67535ZM0.966886 4.98828C0.966778 4.99506 0.966768 5.00184 0.966857 5.00862V15C0.966857 16.3032 2.03026 17.3666 3.33352 17.3666H16.6669C17.9701 17.3666 19.0335 16.3032 19.0335 15V5.00867M17.6335 6.3445V15C17.6335 15.53 17.1969 15.9666 16.6669 15.9666H3.33352C2.80346 15.9666 2.36686 15.53 2.36686 15V6.3445L9.59877 11.4068C9.83979 11.5756 10.1606 11.5756 10.4016 11.4068L17.6335 6.3445ZM19.0335 4.98822C19.0271 3.69031 17.9662 2.6333 16.6669 2.6333H3.33352C2.03416 2.6333 0.973221 3.69035 0.966886 4.98828"
                      fill="#024DA5"
                    />
                  </svg>
                </i>
                <a class="full-menu__mail" href="mailto: info@tsue.uz">{{
                  headerSite.site.email
                }}</a>
              </div>
            </div>
            <div class="header-info__block">
              <div class="d-flex">
                <i>
                  <svg
                    width="20"
                    height="20"
                    viewBox="0 0 20 20"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <path
                      d="M17.5 8.33325C17.5 14.1666 10 19.1666 10 19.1666C10 19.1666 2.5 14.1666 2.5 8.33325C2.5 6.34413 3.29018 4.43647 4.6967 3.02995C6.10322 1.62343 8.01088 0.833252 10 0.833252C11.9891 0.833252 13.8968 1.62343 15.3033 3.02995C16.7098 4.43647 17.5 6.34413 17.5 8.33325Z"
                      stroke="#024DA5"
                      stroke-width="1.4"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                    <path
                      d="M10 10.8333C11.3807 10.8333 12.5 9.71396 12.5 8.33325C12.5 6.95254 11.3807 5.83325 10 5.83325C8.61929 5.83325 7.5 6.95254 7.5 8.33325C7.5 9.71396 8.61929 10.8333 10 10.8333Z"
                      stroke="#024DA5"
                      stroke-width="1.4"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </i>
                <a
                  class="full-menu__adress"
                  href="https://yandex.uz/maps/10335/tashkent/search/Iqtisodiyot%20universiteti/?ll=69.250008%2C41.310787&sctx=ZAAAAAgBEAAaKAoSCexrG07yT1FAEf7XmFvKp0RAEhIJspW06AwlgT8RR66xzH8hbT8iBgABAgMEBSgKOABAoZ8GSAFqAnV6nQHNzEw9oAEAqAEAvQGigjKPwgERhdOYtAnptN3xqwWZruL26QHqAQDyAQD4AQCCAhhJcXRpc29kaXlvdCB1bml2ZXJzaXRldGmKAgCSAgCaAgxkZXNrdG9wLW1hcHM%3D&sll=69.250008%2C41.310787&sspn=0.005523%2C0.002346&z=18.48"
                  >{{ headerSite.site.address }}</a
                >
              </div>
            </div>
            <div class="header-info__block">
              <div class="uic_logo">
                <p class="d-flex align-items-center gap-3 mb-0">
                  {{ $t('developed_by') }} :
                  <a
                    class="uic mb-[-5px]"
                    href="https://uic.group/"
                    target="_blank"
                  >
                    <svg
                      class="uicLogo"
                      width="52"
                      height="32"
                      viewBox="0 0 42 22"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M13.6178 5.26825C8.03155 3.92711 4.12766 7.11414 1.72637 3.53053C1.71918 3.5161 1.712 3.50889 1.70481 3.49447C1.64011 3.39353 1.72637 3.24932 1.8414 3.27815C6.78777 4.46067 7.593 3.72521 9.67076 3.97757C11.5903 4.20831 13.6178 5.26825 13.6178 5.26825Z"
                        fill="#374453"
                      />
                      <path
                        d="M14.6022 6.17028C9.68451 5.44203 6.19761 9.12658 3.56625 6.29287C3.55906 6.28566 3.55188 6.27124 3.5375 6.26403C3.46561 6.18472 3.51593 6.04051 3.62377 6.04772C8.11721 6.37939 9.17406 5.58624 11.0218 5.50693C12.7472 5.43482 14.6022 6.17028 14.6022 6.17028Z"
                        fill="#374453"
                      />
                      <path
                        d="M15.5157 7.3306C11.2235 6.74656 9.38308 10.6114 5.90336 8.24634C5.89617 8.23913 5.88898 8.23192 5.87461 8.2175C5.80272 8.15261 5.82428 7.96512 5.92493 7.96512C9.72817 7.97235 10.7203 7.08545 12.3237 6.89078C14.4949 6.63119 15.5157 7.3306 15.5157 7.3306Z"
                        fill="#374453"
                      />
                      <path
                        d="M17.4496 8.60747C15.2064 8.84541 15.5588 10.648 13.1 10.2442C12.7765 10.1938 12.8484 9.96303 12.9922 9.91978C15.0556 9.32851 15.0556 8.93193 15.7961 8.6363C16.5007 8.36952 17.4496 8.60747 17.4496 8.60747Z"
                        fill="#374453"
                      />
                      <path
                        d="M16.4358 8.05237C13.2005 8.11724 12.3738 10.4462 9.64894 9.68914C9.23194 9.57376 9.37574 9.2565 9.59862 9.22767C12.7189 8.73014 12.8698 8.26866 14.0273 7.99468C15.1129 7.73511 16.4358 8.05237 16.4358 8.05237Z"
                        fill="#374453"
                      />
                      <path
                        d="M14.5879 5.26152C14.5663 5.29757 14.516 5.30478 14.4801 5.29036C13.8115 4.9082 13.1861 4.46115 12.4672 3.97084C11.7913 3.51658 10.339 2.89648 7.3194 3.04069C5.8815 3.1128 3.6959 3.40843 1.4384 1.85818C0.891995 1.49044 0.338401 0.863126 0.0508214 0.279088C0.0220654 0.228608 0.00768759 0.16371 0.00049858 0.0988124C-0.00669043 0.0339149 0.0651992 -0.0165456 0.12992 0.00508037C5.71615 2.25475 7.31221 1.37508 10.8279 2.18985C12.2729 2.52876 14.0631 4.63421 14.5809 5.16056C14.6095 5.18221 14.6095 5.22546 14.5879 5.26152Z"
                        fill="#374453"
                      />
                      <path
                        d="M19.4483 17.5915C19.3834 17.7932 19.3978 18.0313 19.2685 18.2043C19.1102 18.4351 18.7221 18.4567 18.5351 18.2475C18.4129 18.1395 18.4129 17.9665 18.3697 17.8294C18.0894 16.5964 17.8162 15.3633 17.543 14.1231C17.5143 14.0367 17.543 13.9789 17.6292 13.943C17.7659 13.9068 17.7803 14.0583 17.8233 14.1449C18.1324 14.9885 18.42 15.8392 18.7364 16.6829C18.837 16.9714 19.175 16.8775 19.3978 16.9498C19.6351 17.101 19.4913 17.3823 19.4483 17.5915Z"
                        fill="#374453"
                      />
                      <path
                        d="M19.815 14.1885C19.8439 14.2678 19.8007 14.3615 19.7145 14.3759C19.6642 14.3831 19.621 14.3759 19.6066 14.3038C19.398 13.8856 19.2183 13.4458 19.0026 13.0276C18.7223 12.7896 18.4275 12.5445 18.2551 12.2056C17.9459 11.6576 17.9746 10.9438 18.3197 10.4174C18.3484 10.3813 18.37 10.3381 18.3988 10.302C18.4491 10.2299 18.557 10.2443 18.5856 10.3309C18.6072 10.3958 18.6216 10.4607 18.6505 10.5183C19.0386 11.7369 19.4126 12.9699 19.815 14.1885Z"
                        fill="#374453"
                      />
                      <path
                        d="M19.8727 8.38411C19.8584 8.70858 19.7362 9.01142 19.6571 9.32147C19.6498 9.3431 19.6427 9.35751 19.6211 9.36472C19.5708 9.38637 19.5206 9.3503 19.5206 9.29984C19.5276 8.87442 19.6787 8.45622 19.5708 8.038C19.4127 7.46837 19.0244 6.97086 18.9957 6.36518C18.9812 6.04792 19.0603 5.73787 19.1252 5.42782C18.895 4.94472 18.7871 4.38949 18.9093 3.86314C18.9309 3.79825 18.9382 3.79825 18.9741 3.84873C19.1971 4.1732 19.4917 4.49766 19.4917 4.92307C19.463 5.52876 19.1322 6.13444 19.3552 6.74012C19.5349 7.28091 19.923 7.78563 19.8727 8.38411Z"
                        fill="#374453"
                      />
                      <path
                        d="M21.7707 6.29278C21.7564 7.08593 21.0662 7.72045 21.1453 8.52803C21.1453 8.83808 21.2243 9.15534 21.1884 9.46539C21.1381 9.73938 20.8289 9.78265 20.6062 9.84755C20.4767 9.90524 20.3329 9.75382 20.3689 9.62402C20.3689 8.68666 20.3689 7.74209 20.3689 6.80473C20.3832 6.41537 20.4767 6.00435 20.7427 5.70874C20.9081 5.51405 21.0805 5.31937 21.2602 5.12468C21.2962 5.08141 21.3178 5.03095 21.3107 4.98047C21.2962 4.80742 21.2602 4.656 21.3394 4.4541C21.4616 4.20174 21.6199 4.05032 21.7851 3.88448C21.814 3.85565 21.857 3.87006 21.8642 3.90611C21.9793 4.41806 21.8642 4.97326 21.627 5.43473C21.6845 5.70874 21.7707 5.99715 21.7707 6.29278Z"
                        fill="#374453"
                      />
                      <path
                        d="M30.851 3.39391C29.8732 3.6679 29.4203 3.9996 29.0322 4.30965C29.0322 4.30965 29.9164 3.9996 31.1889 3.86259C34.7981 3.46602 35.0065 4.81437 39.0471 3.2497C39.1836 3.22807 39.2195 3.33622 39.1836 3.39391C38.6444 4.33127 38.0477 5.36957 35.7902 5.46331C33.3314 5.56427 32.0517 4.57642 29.7438 4.87206C28.27 5.05952 27.5079 5.52099 27.0837 5.80221C32.1164 4.836 31.6994 7.05683 36.6313 5.87432C36.6888 5.85988 36.7537 5.84546 36.8112 5.85267C36.9405 5.86711 36.9909 6.02574 36.9118 6.11226C36.8758 6.15551 36.8256 6.19878 36.7896 6.24204C36.1426 6.94145 35.4594 7.70577 33.1588 7.53272C30.4556 7.33082 30.2832 5.65079 25.121 6.93424C30.1249 6.91262 30.0386 8.5566 33.806 8.0663C33.9354 8.05188 34.0144 8.21051 33.9138 8.29703C33.8563 8.34749 33.7914 8.39076 33.7412 8.43404C33.1733 8.88107 32.3464 9.42907 30.7935 9.11181C27.5582 8.43404 27.9681 7.09287 23.8054 7.82835C27.0477 7.91488 26.825 9.1767 30.1537 9.48676C30.1537 9.48676 30.1537 9.48676 30.1608 9.48676C30.3405 9.50838 30.391 9.74634 30.24 9.84729C30.1248 9.9266 29.9954 9.98429 29.8732 10.0347C27.4433 10.9793 26.3145 7.92208 23.3308 8.60708C25.4661 8.79455 25.2935 9.51561 27.2204 10.042C27.4288 10.0996 27.4074 10.3809 27.1772 10.4025C24.891 10.6332 25.0923 9.09018 23.6903 9.03249C23.3165 9.01807 22.9714 9.21998 22.7844 9.55165C22.2309 10.5178 22.4536 11.4336 22.4177 11.9311C22.5471 12.4503 22.7414 12.9551 22.7485 13.5029C22.7557 13.8851 22.7198 14.2817 22.5974 14.6494C22.3674 15.4137 22.1374 16.1782 21.9001 16.9497C21.8498 17.1082 21.8569 17.2813 21.9144 17.4327C22.0007 17.6635 22.0871 17.887 22.1231 18.1321C22.2093 18.5431 22.1517 18.9685 22.0079 19.3651C21.706 20.1078 21.4039 20.8504 21.1021 21.6004C21.0445 21.7373 21.0015 21.8816 20.9007 21.9969C20.7499 22.0258 20.7642 21.8311 20.7785 21.7373C21.0734 18.9612 21.3537 16.1852 21.6412 13.4092L21.8714 12.7459C21.4185 13.1352 21.2172 13.6761 20.9223 14.1591C20.8864 14.2744 20.7139 14.2962 20.678 14.1664C20.7067 13.6832 20.7713 13.2002 20.7858 12.717C20.8288 12.2267 20.8218 11.7292 20.9871 11.2605C21.1739 10.7846 21.5334 10.4025 21.8139 9.9915C22.2739 9.40023 22.619 8.72965 22.8563 8.02303C23.0001 7.59041 23.3022 7.20825 23.6903 6.97031C25.0348 6.11947 25.8183 5.38399 27.0909 4.4178C28.2628 3.5309 29.1687 2.83871 29.6864 2.6296C32.0517 1.65617 36.804 2.7017 40.8732 0.0482517C40.9738 -0.00943721 41.1032 0.105921 41.0243 0.271779C40.6432 1.23797 40.1903 1.85808 39.1117 2.39165C36.0059 3.92749 32.4399 2.94686 30.851 3.39391Z"
                        fill="#374453"
                      />
                      <path
                        d="M21.4183 5.05993C21.4183 5.05993 21.1521 4.59125 20.5051 4.53356C20.0162 4.49031 19.7935 4.65615 19.7935 4.65615C19.7935 4.65615 20.3829 4.4831 20.8431 4.89409C21.3031 5.30509 21.0515 5.65841 21.0515 5.65841C21.0515 5.65841 21.5548 5.36278 21.4183 5.05993Z"
                        fill="#374453"
                      />
                      <path
                        d="M21.3892 4.99581C21.3892 4.99581 21.0513 4.6353 20.3611 4.60645C20.3611 4.60645 20.7708 4.70741 20.8213 4.93091C20.9075 5.35634 20.5337 5.92596 20.4618 6.19997C20.4043 6.44512 21.3892 4.99581 21.3892 4.99581Z"
                        fill="#374453"
                      />
                    </svg>

                    <svg
                      class="uicName"
                      width="63"
                      height="15"
                      viewBox="0 0 63 15"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M33.1115 11.5573C32.1757 11.7123 31.2284 11.7842 30.2803 11.7722C28.5021 11.7722 26.5952 10.597 26.5952 7.3157V5.39525C26.5952 1.91599 28.5942 0.926438 30.4064 0.926438C31.3121 0.918326 32.2168 0.985345 33.1115 1.12679C33.2376 1.14144 33.3541 1.19766 33.3541 1.34181V2.05769C33.3541 2.15786 33.2983 2.20184 33.1696 2.20184H33.1138C32.2743 2.13099 31.6195 2.10166 30.4087 2.10166C29.0866 2.10166 27.8906 2.81756 27.8906 5.39525V7.3157C27.8906 9.68073 28.9582 10.6118 30.2826 10.6118C31.1488 10.6118 31.7383 10.5556 32.073 10.5261V6.42878C32.0701 6.3926 32.0744 6.3562 32.086 6.32181C32.0974 6.28742 32.1158 6.25573 32.1398 6.22875C32.164 6.20174 32.1932 6.17997 32.226 6.16479C32.2588 6.14963 32.2942 6.14134 32.3301 6.14047H33.0993C33.1724 6.14424 33.2413 6.17636 33.2914 6.23008C33.3417 6.28382 33.3692 6.35501 33.3686 6.42878V11.2421C33.3708 11.3171 33.3458 11.3904 33.2987 11.4483C33.2513 11.5063 33.1848 11.545 33.1115 11.5573Z"
                        fill="#374453"
                      />
                      <path
                        d="M38.6719 4.79431C38.0096 4.76785 37.3465 4.81621 36.6947 4.93846V11.3864C36.6983 11.4563 36.6751 11.5248 36.6299 11.5779C36.5847 11.6311 36.5213 11.6649 36.4522 11.6721H35.7122C35.6405 11.6684 35.5734 11.6362 35.5251 11.5828C35.4769 11.5292 35.4518 11.4586 35.4551 11.3864V4.42292C35.4593 4.35097 35.485 4.28196 35.5286 4.22488C35.5724 4.1678 35.6321 4.12528 35.7001 4.10285C36.5103 3.74369 37.493 3.70215 38.6719 3.70215C38.8587 3.70215 38.9728 3.7168 38.9728 3.91715V4.57442C38.9728 4.72346 38.9438 4.79431 38.6719 4.79431Z"
                        fill="#374453"
                      />
                      <path
                        d="M43.393 11.7723C41.3019 11.7723 40.2393 10.3823 40.2393 8.27604V7.18632C40.2393 5.0802 41.3066 3.69238 43.393 3.69238C45.4794 3.69238 46.5469 5.0802 46.5469 7.18632V8.27604C46.5469 10.3823 45.4721 11.7723 43.393 11.7723ZM45.3144 7.18632C45.3144 5.72033 44.7298 4.79432 43.393 4.79432C42.0563 4.79432 41.4861 5.71301 41.4861 7.18632V8.27604C41.4861 9.74193 42.0563 10.6704 43.393 10.6704C44.7298 10.6704 45.3144 9.75176 45.3144 8.27604V7.18632Z"
                        fill="#374453"
                      />
                      <path
                        d="M51.2919 11.7718H51.1562C50.1857 11.7718 48.2256 11.2269 48.2256 8.40498V4.07786C48.2224 4.04141 48.227 4.00472 48.2387 3.97013C48.2505 3.93552 48.2694 3.90378 48.2941 3.87689C48.3187 3.85002 48.3485 3.82859 48.3819 3.81397C48.4153 3.79936 48.4513 3.79188 48.4874 3.79199H49.2275C49.2633 3.79254 49.2988 3.80052 49.3314 3.81543C49.3642 3.83034 49.3935 3.85186 49.4177 3.87867C49.4418 3.90549 49.4601 3.93701 49.4717 3.97127C49.4833 4.00554 49.4876 4.04182 49.4846 4.07786V8.40498C49.4846 10.1154 50.2124 10.6699 51.1635 10.6699H51.2919C52.243 10.6699 52.9707 10.125 52.9707 8.40498V4.07786C52.9678 4.04202 52.9721 4.00593 52.9835 3.97184C52.9949 3.93774 53.0129 3.90633 53.0369 3.87956C53.0607 3.85279 53.0898 3.8312 53.1222 3.81615C53.1546 3.80109 53.1897 3.79288 53.2255 3.79199H53.9654C54.0013 3.79254 54.0367 3.80052 54.0695 3.81543C54.1021 3.83034 54.1316 3.85186 54.1557 3.87867C54.1797 3.90549 54.1982 3.93701 54.2097 3.97127C54.2211 4.00554 54.2257 4.04182 54.2225 4.07786V8.40498C54.2225 11.2269 52.2575 11.7718 51.2919 11.7718Z"
                        fill="#374453"
                      />
                      <path
                        d="M59.0724 11.7728C58.5144 11.7654 57.9579 11.7131 57.4082 11.6165V14.2088C57.4082 14.2446 57.4013 14.2797 57.3877 14.3127C57.3742 14.3455 57.3543 14.3754 57.3294 14.4007C57.3043 14.4259 57.2746 14.4459 57.242 14.4595C57.2092 14.473 57.1742 14.4801 57.1389 14.4801H56.4111C56.3764 14.4797 56.342 14.4724 56.3102 14.4587C56.2784 14.4447 56.2497 14.4245 56.2257 14.3992C56.2016 14.374 56.1829 14.344 56.1707 14.3114C56.1583 14.2788 56.1526 14.2438 56.154 14.2088V4.34767C56.154 4.16198 56.1976 4.07648 56.4524 4.02028C57.3098 3.81091 58.188 3.70027 59.0701 3.69043C61.1902 3.69043 62.1729 5.07822 62.1729 7.22834V8.25698C62.1753 10.5122 61.149 11.7728 59.0724 11.7728ZM60.921 7.23078C60.921 5.72571 60.482 4.75326 59.0724 4.75326C58.5148 4.75652 57.9583 4.8039 57.4082 4.89498V10.5684C57.9585 10.6593 58.5148 10.7076 59.0724 10.7125C60.4674 10.7125 60.921 9.79624 60.921 8.2692V7.23078Z"
                        fill="#374453"
                      />
                      <path
                        d="M8.3492 11.6559C7.70867 11.7561 5.92301 11.8832 5.30448 11.8832C2.55832 11.8832 0.695068 11.1892 0.695068 7.71492V1.38185C0.695658 1.34516 0.703517 1.30898 0.718248 1.27539C0.73298 1.24182 0.753994 1.21151 0.780511 1.18625C0.806831 1.16101 0.838063 1.14131 0.872044 1.12833C0.906221 1.11535 0.94256 1.10934 0.978898 1.11063H3.29823C3.33457 1.109 3.37111 1.11478 3.40529 1.12764C3.43946 1.14051 3.47089 1.16017 3.49741 1.18549C3.52373 1.21081 3.54494 1.24125 3.55948 1.27498C3.57401 1.30872 3.58167 1.34506 3.58206 1.38185V7.71492C3.58206 9.00499 4.00908 9.42523 5.02065 9.42523C5.47733 9.42376 5.93342 9.39438 6.38657 9.33728V1.38185C6.38676 1.34506 6.39442 1.30872 6.40896 1.27498C6.42349 1.24125 6.44471 1.21081 6.47122 1.18549C6.49774 1.16017 6.52897 1.14051 6.56315 1.12764C6.59732 1.11478 6.63386 1.109 6.67039 1.11063H8.975C9.05023 1.10729 9.1235 1.13389 9.17948 1.18462C9.23526 1.23538 9.26904 1.30623 9.27337 1.38185V10.5516C9.27337 11.353 9.03078 11.5557 8.3492 11.6559Z"
                        fill="#374453"
                      />
                      <path
                        d="M13.7399 11.7551H11.4061C11.3314 11.7533 11.2605 11.7221 11.2083 11.6681C11.1562 11.6143 11.127 11.542 11.127 11.4669V1.38086C11.1277 1.3446 11.1354 1.30882 11.1497 1.27556C11.1641 1.24231 11.1849 1.21224 11.2108 1.18705C11.2368 1.16187 11.2672 1.14207 11.3008 1.1288C11.3342 1.11552 11.3701 1.109 11.4061 1.10964H13.7399C13.7763 1.10801 13.8128 1.11379 13.847 1.12665C13.8812 1.13952 13.9126 1.15918 13.9389 1.1845C13.9654 1.20982 13.9866 1.24026 14.0012 1.27399C14.0157 1.30774 14.0234 1.34407 14.0238 1.38086V11.4669C14.024 11.5047 14.0169 11.542 14.0028 11.5769C13.9886 11.6119 13.9678 11.6437 13.9415 11.6706C13.9149 11.6973 13.8837 11.7186 13.849 11.7331C13.8144 11.7476 13.7773 11.7551 13.7399 11.7551Z"
                        fill="#374453"
                      />
                      <path
                        d="M21.9903 11.6256C21.3431 11.8114 20.6715 11.898 19.9986 11.8821C17.3809 11.8821 15.6172 10.4504 15.6172 7.169V5.70301C15.6172 2.41186 17.3809 0.980089 19.9986 0.980089C20.6715 0.965535 21.3427 1.052 21.9903 1.23663C22.2183 1.30994 22.3034 1.35146 22.3034 1.55181V3.38674C22.3034 3.57243 22.2183 3.65796 22.0608 3.65796H22.017C21.3558 3.58015 20.6909 3.53775 20.0253 3.53091C19.2563 3.53091 18.5696 3.87296 18.5696 5.69323V7.15922C18.5696 8.96482 19.2537 9.324 20.0253 9.324C20.6909 9.31647 21.3558 9.27324 22.017 9.1945H22.0437C22.2136 9.1945 22.2863 9.28002 22.2863 9.46571V11.3103C22.3034 11.4961 22.2183 11.5547 21.9903 11.6256Z"
                        fill="#374453"
                      />
                    </svg>
                  </a>
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div class="container-fluid header-1">
      <div class="container">
        <div class="row justify-content-between align-items-center main-linker">
          <div
            v-if="footerSite"
            style="gap: 8px !important; display: flex"
            class="socials-animate"
          >
            <a target="_blank" :href="footerSite.facebook">
              <i>
                <svg
                  width="28"
                  height="28"
                  viewBox="0 0 28 28"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect
                    width="28"
                    height="28"
                    rx="6"
                    fill="white"
                    fill-opacity="0.12"
                  />
                  <path
                    d="M21 14C21 10.15 17.85 7 14 7C10.15 7 7 10.15 7 14C7 17.5 9.5375 20.3875 12.8625 20.9125V16.0125H11.1125V14H12.8625V12.425C12.8625 10.675 13.9125 9.7125 15.4875 9.7125C16.275 9.7125 17.0625 9.8875 17.0625 9.8875V11.6375H16.1875C15.3125 11.6375 15.05 12.1625 15.05 12.6875V14H16.975L16.625 16.0125H14.9625V21C18.4625 20.475 21 17.5 21 14Z"
                    fill="#E8EDF2"
                  />
                </svg>
              </i>
            </a>
            <a target="_blank" :href="footerSite.youtube">
              <svg
                width="28"
                height="28"
                viewBox="0 0 28 28"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
              >
                <rect
                  width="28"
                  height="28"
                  rx="6"
                  fill="white"
                  fill-opacity="0.12"
                />
                <path
                  fill-rule="evenodd"
                  clip-rule="evenodd"
                  d="M19.425 9.3626C20.0375 9.5376 20.475 9.9751 20.65 10.5876C21 11.7251 21 14.0001 21 14.0001C21 14.0001 21 16.2751 20.7375 17.4126C20.5625 18.0251 20.125 18.4626 19.5125 18.6376C18.375 18.9001 14 18.9001 14 18.9001C14 18.9001 9.5375 18.9001 8.4875 18.6376C7.875 18.4626 7.4375 18.0251 7.2625 17.4126C7 16.2751 7 14.0001 7 14.0001C7 14.0001 7 11.7251 7.175 10.5876C7.35 9.9751 7.78751 9.5376 8.40001 9.3626C9.53751 9.1001 13.9125 9.1001 13.9125 9.1001C13.9125 9.1001 18.375 9.1001 19.425 9.3626ZM12.6 11.9001L16.275 14.0001L12.6 16.1001V11.9001Z"
                  fill="#E8EDF2"
                />
              </svg>
            </a>
            <a target="_blank" :href="footerSite.instagram">
              <i>
                <svg
                  width="28"
                  height="28"
                  viewBox="0 0 28 28"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect
                    width="28"
                    height="28"
                    rx="6"
                    fill="white"
                    fill-opacity="0.12"
                  />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M13.9998 10.2373C11.8998 10.2373 10.2373 11.8998 10.2373 13.9998C10.2373 16.0998 11.8998 17.7623 13.9998 17.7623C16.0998 17.7623 17.7623 16.0998 17.7623 13.9998C17.7623 11.8998 16.0998 10.2373 13.9998 10.2373ZM11.5498 13.9998C11.5498 15.3998 12.6873 16.4498 13.9998 16.4498C15.3123 16.4498 16.4498 15.3123 16.4498 13.9998C16.4498 12.5998 15.3123 11.5498 13.9998 11.5498C12.5998 11.5498 11.5498 12.6873 11.5498 13.9998Z"
                    fill="#E8EDF2"
                  />
                  <path
                    fill-rule="evenodd"
                    clip-rule="evenodd"
                    d="M11.0248 6.7373H16.9748C17.7623 6.8248 18.2873 6.91231 18.7248 7.0873C19.2498 7.34981 19.5998 7.5248 20.0373 7.9623C20.4748 8.39981 20.7373 8.83731 20.9123 9.27481C21.0873 9.71231 21.2623 10.2373 21.2623 11.0248V16.9748C21.1748 17.7623 21.0873 18.2873 20.9123 18.7248C20.6498 19.2498 20.4748 19.5998 20.0373 20.0373C19.5998 20.4748 19.1623 20.7373 18.7248 20.9123C18.2873 21.0873 17.7623 21.2623 16.9748 21.2623H11.0248C10.2373 21.1748 9.71231 21.0873 9.27481 20.9123C8.7498 20.6498 8.39981 20.4748 7.96231 20.0373C7.52481 19.5998 7.26231 19.1623 7.08731 18.7248C6.91231 18.2873 6.7373 17.7623 6.7373 16.9748V11.0248C6.8248 10.2373 6.91231 9.71231 7.08731 9.27481C7.34981 8.7498 7.52481 8.39981 7.96231 7.9623C8.39981 7.5248 8.83731 7.2623 9.27481 7.0873C9.71231 6.91231 10.2373 6.7373 11.0248 6.7373ZM11.0248 8.0498H16.9748C17.5665 8.0498 17.9081 8.17485 18.1582 8.26639C18.204 8.28314 18.2467 8.29877 18.2873 8.31231C18.3602 8.34877 18.4297 8.38159 18.4958 8.41283C18.7469 8.53145 18.9546 8.62959 19.1623 8.83731C19.4248 9.09981 19.5998 9.36231 19.6873 9.71231C19.7748 9.97481 19.8623 10.3248 19.9498 11.0248V16.9748C19.9498 17.5665 19.8248 17.9081 19.7332 18.1582C19.7165 18.204 19.7008 18.2467 19.6873 18.2873C19.6508 18.3603 19.6181 18.4296 19.5868 18.4958C19.4682 18.7469 19.37 18.9546 19.1623 19.1623C18.8998 19.4248 18.6373 19.5998 18.2873 19.6873C18.0248 19.7748 17.6748 19.8623 16.9748 19.9498H11.0248C10.4331 19.9498 10.0915 19.8248 9.84138 19.7332C9.79562 19.7165 9.75291 19.7008 9.71231 19.6873C9.63926 19.6508 9.57002 19.6181 9.5038 19.5868C9.25273 19.4682 9.04502 19.37 8.83731 19.1623C8.57481 18.8998 8.39981 18.6373 8.31231 18.2873C8.2248 18.0248 8.13731 17.6748 8.0498 16.9748V11.0248C8.0498 10.4331 8.17485 10.0915 8.26639 9.84139C8.28314 9.79562 8.29877 9.75291 8.31231 9.71231C8.3488 9.63932 8.38157 9.56996 8.41283 9.5038C8.53145 9.25273 8.62959 9.04502 8.83731 8.83731C9.09981 8.5748 9.36231 8.39981 9.71231 8.31231C9.97481 8.2248 10.3248 8.13731 11.0248 8.0498Z"
                    fill="#E8EDF2"
                  />
                  <path
                    d="M18.7248 10.1498C18.7248 10.6331 18.3331 11.0248 17.8498 11.0248C17.3666 11.0248 16.9748 10.6331 16.9748 10.1498C16.9748 9.66656 17.3666 9.27481 17.8498 9.27481C18.3331 9.27481 18.7248 9.66656 18.7248 10.1498Z"
                    fill="#E8EDF2"
                  />
                </svg>
              </i>
            </a>

            <a target="_blank" :href="footerSite.telegram">
              <i>
                <svg
                  width="28"
                  height="28"
                  viewBox="0 0 28 28"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect
                    width="28"
                    height="28"
                    rx="6"
                    fill="white"
                    fill-opacity="0.12"
                  />
                  <path
                    d="M14.6054 10.5065C13.3515 11.028 10.8455 12.1074 7.08743 13.7448C6.47717 13.9874 6.15749 14.2248 6.12839 14.457C6.07921 14.8493 6.5705 15.0038 7.23952 15.2142C7.33052 15.2428 7.42481 15.2724 7.52148 15.3038C8.17969 15.5178 9.0651 15.7681 9.52539 15.7781C9.94291 15.7871 10.4089 15.6149 10.9234 15.2617C14.4347 12.8914 16.2472 11.6934 16.361 11.6676C16.4413 11.6494 16.5526 11.6264 16.628 11.6934C16.7033 11.7604 16.6959 11.8873 16.6879 11.9214C16.6393 12.1288 14.7108 13.9218 13.7127 14.8496C13.4016 15.1389 13.1809 15.344 13.1358 15.3909C13.0348 15.4959 12.9318 15.5952 12.8328 15.6906C12.2213 16.2801 11.7627 16.7221 12.8581 17.444C13.3846 17.7909 13.8058 18.0778 14.2261 18.364L14.2263 18.3641C14.6852 18.6766 15.1429 18.9883 15.7351 19.3765C15.8859 19.4754 16.03 19.5781 16.1704 19.6782L16.1704 19.6782C16.7046 20.059 17.1844 20.4011 17.7772 20.3465C18.1217 20.3148 18.4775 19.9909 18.6582 19.0249C19.0853 16.7418 19.9248 11.7951 20.1188 9.75666C20.1358 9.57806 20.1144 9.3495 20.0972 9.24917C20.08 9.14883 20.0442 9.00588 19.9137 8.90005C19.7593 8.77472 19.5208 8.7483 19.4142 8.75008C18.9293 8.75872 18.1854 9.01738 14.6054 10.5065Z"
                    fill="#E8EDF2"
                  />
                </svg>
              </i>
            </a>

            <a target="_blank" :href="footerSite.linkedin">
              <i>
                <svg
                  width="28"
                  height="28"
                  viewBox="0 0 28 28"
                  fill="none"
                  xmlns="http://www.w3.org/2000/svg"
                >
                  <rect
                    width="28"
                    height="28"
                    rx="6"
                    fill="white"
                    fill-opacity="0.12"
                  />
                  <path
                    d="M10.15 21H7.175V11.6375H10.15V21ZM8.6625 10.325C7.7 10.325 7 9.625 7 8.6625C7 7.7 7.7875 7 8.6625 7C9.625 7 10.325 7.7 10.325 8.6625C10.325 9.625 9.625 10.325 8.6625 10.325ZM21 21H18.025V15.925C18.025 14.4375 17.4125 14 16.5375 14C15.6625 14 14.7875 14.7 14.7875 16.0125V21H11.8125V11.6375H14.6125V12.95C14.875 12.3375 15.925 11.375 17.4125 11.375C19.075 11.375 20.825 12.3375 20.825 15.225V21H21Z"
                    fill="#E8EDF2"
                  />
                </svg>
              </i>
            </a>
          </div>

          <div v-if="!timetable" class="top__bar-center">
            <nav v-if="topLinks && topLinks.length" class="d-block">
              <ul
                class="d-flex align-items-center justify-content-md-center justify-lg-content-center flex-wrap top-linker"
              >
                <li
                  v-for="(item, idx) in topLinks"
                  :key="idx"
                  class="top-link__span"
                >
                  <a
                    v-if="isValidUrl(item.link)"
                    :href="item.link"
                    target="_blank"
                  >
                    <span>{{ item.title }}</span>
                  </a>
                  <NuxtLink v-else :to="localePath(item.link)">
                    <span>{{ item.title }}</span>
                  </NuxtLink>
                </li>
              </ul>
            </nav>
          </div>

          <div class="top__bar-left">
            <div
              style="gap: 24px"
              class="d-flex align-items-center justify-content-between"
            >
              <button
                class="d-none d-md-block"
                style="border-radius: 0"
                @click="widgetClick"
                @onWidgetChange="toggleWidget"
              >
                <i>
                  <img
                    style="border-radius: 0"
                    src="@/static/image/ui.svg"
                    class="access"
                    alt="UI svg"
                    @onWidgetChange="toggleWidget"
                  />
                  <img
                    src="@/static/image/my.svg"
                    class="access-close"
                    :class="isWidgetOpen ? 'access-active' : ''"
                    alt="Access"
                    @onWidgetChange="toggleWidget"
                  />
                </i>
              </button>

              <div class="language" @click="handleClick">
                <b-dropdown variant="">
                  <template #button-content>
                    <svg
                      width="20"
                      height="20"
                      viewBox="0 0 20 20"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M14.1797 6.875L9.60938 18.125H11.4547L12.4113 15.8594H15.948L16.9047 18.125H18.75L14.1797 6.875ZM13.1371 14.1406L14.1797 10.9316L15.2223 14.1406H13.1371Z"
                        fill="white"
                      />
                      <path
                        opacity="0.3"
                        d="M10.625 12.5C10.6152 12.4926 9.8207 11.884 8.85078 10.8332C10.3969 8.73789 11.2727 6.35625 11.6301 5.23438H13.75V3.51562H8.35938V1.875H6.64062V3.51562H1.25V5.23438H9.81445C9.44258 6.28711 8.75781 7.94922 7.71328 9.46719C6.43672 7.77031 5.87188 6.50313 5.86445 6.48984L5.58594 5.9375L4.10156 6.79688L4.36992 7.33828C4.40469 7.39922 5.04141 8.81875 6.50703 10.7199C6.54297 10.7672 6.5793 10.8133 6.61562 10.8594C4.67344 13.0805 3.1332 13.9488 3.11328 13.9637L2.5 14.375L3.39844 15.7812L4.15234 15.3332C4.23828 15.268 5.7668 14.3957 7.74609 12.1777C8.70391 13.2043 9.43437 13.7727 9.47656 13.8055L9.96094 14.1406L10.625 12.5Z"
                        fill="white"
                      />
                    </svg>
                    <span v-if="$i18n.locale === 'sr'" class="lang_bar"
                      >O‘zbekcha</span
                    >
                    <span v-if="$i18n.locale === 'ru'" class="lang_bar"
                      >Русский</span
                    >
                    <span v-if="$i18n.locale === 'en'" class="lang_bar"
                      >English</span
                    >

                    <svg
                      class="change__click"
                      width="24"
                      height="24"
                      viewBox="0 0 24 24"
                      fill="none"
                      xmlns="http://www.w3.org/2000/svg"
                    >
                      <path
                        d="M6 9L12 15L18 9"
                        stroke="white"
                        stroke-width="2"
                        stroke-linecap="round"
                        stroke-linejoin="round"
                      />
                    </svg>
                  </template>
                  <b-dropdown-item
                    :to="switchLocalePath('sr')"
                    class="lang__active"
                  >
                    O‘zbekcha
                    <i v-if="$i18n.locale === 'sr'">
                      <img
                        src="@/static/image/lang-check.svg"
                        alt="Lang check"
                      />
                    </i>
                  </b-dropdown-item>

                  <b-dropdown-item
                    :to="switchLocalePath('ru')"
                    class="lang__active"
                  >
                    Русский
                    <i v-if="$i18n.locale === 'ru'">
                      <img
                        src="@/static/image/lang-check.svg"
                        alt="Lang check"
                      />
                    </i>
                  </b-dropdown-item>
                  <b-dropdown-item
                    :to="switchLocalePath('en')"
                    class="lang__active"
                  >
                    English
                    <i v-if="$i18n.locale === 'en'">
                      <img
                        src="@/static/image/lang-check.svg"
                        alt="Lang check"
                      />
                    </i>
                  </b-dropdown-item>
                </b-dropdown>
              </div>
            </div>
          </div>
          <!-- <pre>{{topLinks}}</pre> -->
        </div>
      </div>
    </div>
    <div class="header-2 position-relative">
      <div v-if="header" class="container logo-side">
        <div
          v-if="headerSite && headerSite.site"
          class="d-flex flex-wrap align-items-center justify-content-between"
        >
          <div
            class="d-flex flex-column flex-md-row align-items-center gap-5 header__logo"
          >
            <nuxt-link
              class="d-flex align-md-items-center flex-wrap"
              :to="localePath('/')"
            >
              <Logo :is-dark="isDark" />
            </nuxt-link>
          </div>
          <template v-if="!timetable">
            <div
              v-if="headerSite.site.quote"
              style="gap: 28px"
              class="quote header__contact text-center d-flex align-center flex-wrap m-3 m-md-0"
            >
              <div
                style="text-align: end; font-size: 0.75rem"
                class="contact__center"
              >
                <p>{{ $t('contact_center') }}</p>
                <a :href="`tel:${headerSite.site.quote_author}`">
                  <span class="first_tel">{{
                    headerSite.site.quote_author?.slice(0, 4)
                  }}</span
                  ><span>{{ headerSite.site.quote_author?.slice(4) }}</span>
                </a>
              </div>
              <a target="_blank" href="https://qabul.perfectuniversity.uz/">
                <button class="contact__apply">
                  {{ $t('apply_now') }}
                  <i class="fas fa-arrow-right"></i>
                </button>
              </a>
            </div>
          </template>
          <template v-else>
            <div class="col-md-7 col-12 quote text-md-right text-center">
              <h1 class="timetable-title text-white">
                {{ this.$t('timetable') }}
              </h1>
            </div>
          </template>
        </div>
      </div>
      <div style="position: relative; top: 28px; z-index: 999 !important">
        <div
          v-if="!timetable"
          class="container header-bottom"
          :class="
            searchPanel
              ? 'md:pt-4 md:pb-4 pt-2 pb-2'
              : 'pt-2 pb-2 pt-lg-1 pb-lg-1'
          "
        >
          <div
            :class="
              !searchPanel ? 'header-searchpanel' : 'header-searchpanelnot'
            "
            class="d-flex justify-content-between align-items-center"
          >
            <div class="menu-btn">
              <button v-if="!searchPanel" @click="toggle = !toggle">
                <i>
                  <svg
                    width="32"
                    height="32"
                    viewBox="0 0 32 32"
                    fill="none"
                    xmlns="http://www.w3.org/2000/svg"
                  >
                    <g opacity="0.25">
                      <path
                        d="M16 13.3333C14.5267 13.3333 13.3333 14.5267 13.3333 16C13.3333 17.4733 14.5267 18.6667 16 18.6667C17.4733 18.6667 18.6667 17.4733 18.6667 16C18.6667 14.5267 17.4733 13.3333 16 13.3333ZM16 4C14.5267 4 13.3333 5.19333 13.3333 6.66667C13.3333 8.14 14.5267 9.33333 16 9.33333C17.4733 9.33333 18.6667 8.14 18.6667 6.66667C18.6667 5.19333 17.4733 4 16 4ZM16 22.6667C14.5267 22.6667 13.3333 23.86 13.3333 25.3333C13.3333 26.8067 14.5267 28 16 28C17.4733 28 18.6667 26.8067 18.6667 25.3333C18.6667 23.86 17.4733 22.6667 16 22.6667ZM25.3333 13.3333C23.86 13.3333 22.6667 14.5267 22.6667 16C22.6667 17.4733 23.86 18.6667 25.3333 18.6667C26.8067 18.6667 28 17.4733 28 16C28 14.5267 26.8067 13.3333 25.3333 13.3333ZM25.3333 4C23.86 4 22.6667 5.19333 22.6667 6.66667C22.6667 8.14 23.86 9.33333 25.3333 9.33333C26.8067 9.33333 28 8.14 28 6.66667C28 5.19333 26.8067 4 25.3333 4ZM25.3333 22.6667C23.86 22.6667 22.6667 23.86 22.6667 25.3333C22.6667 26.8067 23.86 28 25.3333 28C26.8067 28 28 26.8067 28 25.3333C28 23.86 26.8067 22.6667 25.3333 22.6667ZM6.66667 13.3333C5.19333 13.3333 4 14.5267 4 16C4 17.4733 5.19333 18.6667 6.66667 18.6667C8.14 18.6667 9.33333 17.4733 9.33333 16C9.33333 14.5267 8.14 13.3333 6.66667 13.3333ZM6.66667 4C5.19333 4 4 5.19333 4 6.66667C4 8.14 5.19333 9.33333 6.66667 9.33333C8.14 9.33333 9.33333 8.14 9.33333 6.66667C9.33333 5.19333 8.14 4 6.66667 4ZM6.66667 22.6667C5.19333 22.6667 4 23.86 4 25.3333C4 26.8067 5.19333 28 6.66667 28C8.14 28 9.33333 26.8067 9.33333 25.3333C9.33333 23.86 8.14 22.6667 6.66667 22.6667Z"
                        fill="gray"
                      />
                    </g>
                  </svg>
                </i>
              </button>
            </div>
            <div
              class="position-relative m-0 search d-none align-items-center search-form-input w-100"
              :class="searchPanel ? 'search-active d-flex' : ''"
            >
              <svg
                v-if="searchPanel"
                class="search-icon"
                style="cursor: pointer"
                xmlns="http://www.w3.org/2000/svg"
                width="32"
                height="32"
                viewBox="0 0 24 24"
                fill="none"
                @click="onSearch"
              >
                <path
                  d="M16.6725 16.6412L21 21M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z"
                  stroke="#144176"
                  stroke-width="2"
                  stroke-linecap="round"
                  stroke-linejoin="round"
                />
              </svg>
              <form class="w-100" @submit.prevent="onSearch">
                <input
                  id="search"
                  ref="search"
                  v-model="search"
                  class="sercher w-100"
                  type="text"
                  :placeholder="$t('search')"
                  @change="onSearch"
                />
              </form>
            </div>
            <ul
              v-if="headerSite && headerSite.menu && headerSite.menu.length"
              class="d-none d-lg-flex ul main-menu-ul"
              :class="[
                searchPanel ? 'search-d-none' : '',
                $i18n.locale === 'ru' ? 'russian-menu' : '',
              ]"
            >
              <client-only>
                <li
                  v-for="(item, index) in headerSite.menu"
                  :key="index"
                  class="menu-links-wrapper"
                >
                  <NuxtLink
                    :to="localePath('/' + item?.url)"
                    class="menu-links menu-link-item"
                  >
                    {{ item.title }}
                  </NuxtLink>
                  <div v-if="item.child?.length" class="hidden-bar">
                    <div class="row">
                      <!--                  <div class="offset-1"></div>-->
                      <div class="col-12 d-flex container">
                        <div class="col-4 university">
                          <div class="d-flex">
                            <i>
                              <img
                                src="@/static/image/university.svg"
                                alt="university"
                            /></i>
                            <h3>{{ item.title }}</h3>
                          </div>
                          <div
                            class="single-content-description nav-links-description"
                            v-html="item.description"
                          ></div>
                        </div>
                        <div class="col-8">
                          <div
                            v-if="item && item.child && item.child.length"
                            class="row"
                          >
                            <div
                              v-for="(links, index) in item.child"
                              :key="index"
                              class="col-6 hidden-bar-item"
                            >
                              <template v-if="links.url.startsWith('http')">
                                <a :href="`${links.url}`" target="_blank">
                                  <span>
                                    {{ links.title }}
                                  </span>
                                </a>
                              </template>
                              <template v-else>
                                <NuxtLink :to="localePath(`/${links.url}`)">
                                  <span>
                                    {{ links.title }}
                                  </span>
                                </NuxtLink>
                              </template>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                  <div class="line"></div>
                </li>
              </client-only>
            </ul>

            <div class="">
              <button
                class="search-btn"
                :class="searchPanel ? 'search-ico-d-none' : ''"
                @click="openSearchPanel"
              >
                <i>
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="24"
                    height="24"
                    viewBox="0 0 24 24"
                    fill="none"
                  >
                    <path
                      d="M16.6725 16.6412L21 21M19 11C19 15.4183 15.4183 19 11 19C6.58172 19 3 15.4183 3 11C3 6.58172 6.58172 3 11 3C15.4183 3 19 6.58172 19 11Z"
                      stroke="#768194"
                      stroke-width="2"
                      stroke-linecap="round"
                      stroke-linejoin="round"
                    />
                  </svg>
                </i>
              </button>
              <button
                class="close-search"
                :class="searchPanel ? 'close-search-d-none' : ''"
                @click="openSearchPanel"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  width="24"
                  height="24"
                  viewBox="0 0 24 24"
                  fill="none"
                >
                  <path
                    d="M6 6L18 18M18 6L6 18"
                    stroke="#1D2024"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"
                  />
                </svg>
              </button>
            </div>
          </div>
        </div>
      </div>
    </div>
    <ApplyDialog
      :show="showDialog"
      @confirm="handleConfirm"
      @close="showDialog = false"
    />
  </div>
</template>

<script>
import { mapState } from 'vuex'
import TestMode from './marqueAcademicYear1.vue'
import ButtonMore from './Button/ButtonMore.vue'
import ApplyDialog from './Apply/ApplyDialog.vue'
import Widget from '@/components/Widget'
import Contact from '@/pages/profile/contact.vue'

export default {
  name: 'Header',
  components: {
    Contact,
    ApplyDialog,
    ButtonMore,
    Widget,
    TestMode,
  },
  props: {
    timetable: {
      type: Boolean,
    },
  },
  async fetch() {
    await this.$store.dispatch('header/fetchHeader').catch(() => {})
    await this.$store.dispatch('fetchFooter').catch(() => {})
  },
  data() {
    return {
      toggle: false,
      toggleWidget2: false,
      searchPanel: false,
      isWidgetOpen: false,
      search: '',
      access: false,
      activeNames: null,
      showDialog: false,
      rotation: 0,
    }
  },

  computed: {
    ...mapState({
      header: (state) => state.header.header,
      headerSite: (state) => state.header.header,
      topLinks: (state) => state.header.header.top_links,
      footerSite: (state) => state.footer,
      main: (state) => state.main.main,
    }),
    isDark() {
      return this.main?.is_active && this.$route.name?.includes('index')
    },
  },
  watch: {
    '$i18n.locale'() {
      this.$store.dispatch('header/fetchHeader')
    },

    toggle(item) {
      if (item) {
        document.querySelector('body').style.overflow = 'hidden'
      } else {
        document.querySelector('body').style.overflow = 'auto'
      }
    },
  },
  mounted() {
    document.addEventListener(
      'keydown',
      (event) => {
        const name = event.key
        const code = event.code
        if (name === 'Escape') {
          this.toggle = false
          this.isWidgetOpen = false
          this.toggleWidget2 = false
        }
        // Alert the key name and key code on keydown
        // console.log(`Key pressed ${name} \r\n Key code value: ${code}`);
      },
      false
    )
  },
  methods: {
    handleMenu() {
      if (
        this.$route.path === '/contacts' ||
        this.$route.path === '/about/syllabus'
      ) {
        this.toggle = !this.toggle
      }
    },
    handleClick() {
      this.rotation += 90
    },
    toggleWidget(val) {
      this.isWidgetOpen = false
    },
    widgetEventHandler(val) {
      this.isWidgetOpen = val
    },

    widgetClick() {
      this.isWidgetOpen = !this.isWidgetOpen
      this.toggleWidget2 = !this.toggleWidget2
    },

    openSearchPanel() {
      if (!this.$route.query.query) {
        this.searchPanel = !this.searchPanel
      } else if (this.$route.query.query) {
        this.searchPanel = false
      }
      if (this.searchPanel) {
        this.$nextTick(() => {
          const inputElement = this.$refs.search
          if (inputElement) {
            inputElement.focus()
          }
        })
      }
    },
    onSearch() {
      this.$router.push(
        this.localePath({ path: '/search/', query: { query: this.search } })
      )
      if (!this.search) {
        this.localePath({ path: '/search/', query: { query: '' } })
      } else if (!this.$route.query.query) {
        this.searchPanel = false
      }
    },
    isValidUrl(str) {
      const pattern = new RegExp(
        '^([a-zA-Z]+:\\/\\/)?' + // protocol
          '((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|' + // domain name
          '((\\d{1,3}\\.){3}\\d{1,3}))' + // OR ip (v4) address
          '(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*' + // port and path
          '(\\?[;&a-z\\d%_.~+=-]*)?' + // query string
          '(\\#[-a-z\\d_]*)?$', // fragment locator
        'i'
      )
      return pattern.test(str)
    },
    handleConfirm(e) {
      if (e === 'international') {
        this.$router.push(this.localePath('/apply/application'))
      }
      this.showDialog = false
    },
    collapseToggle(child) {
      console.log(child)
    },
  },
}
</script>

<style scoped lang="scss">
.programs {
  position: relative;
  cursor: pointer;
  color: white;
  padding-right: 16px;
  font-style: normal;
  font-weight: 500;
  font-size: 0.9375rem;
  line-height: 20px;

  &-hidden {
    min-width: 200px;
    background-color: white;
    color: black;
    display: flex;
    align-items: flex-start;
    justify-content: center;
    flex-direction: column;

    position: absolute;
    z-index: -50;
    opacity: 0;
    top: 30px;
    transform: translateY(50px);
    transition: all 0.25s;

    span {
      width: 100%;

      a {
        padding: 12px;
        font-style: normal;
        font-weight: 500;
        font-size: 0.9375rem;
        line-height: 20px;
        display: flex;
        align-items: flex-start;
        color: #86909c;
        border-bottom: 1px solid rgba(0, 49, 107, 0.1) !important;
        text-transform: none;
        transition: 0.3s all;
        margin-right: 0 !important;
        text-align: left;

        &:hover {
          background-color: #eff0f2;
          color: #374453;
        }
      }
    }
  }

  &:hover {
    .programs-hidden {
      opacity: 1;
      z-index: 50;
      transform: translateY(0px);
      transition: all 0.25s;
    }
  }
}

.header {
  .header-2 {
    .main-menu-ul {
      display: flex;
      align-items: center;
      justify-content: left;
      gap: 32px;

      li {
        cursor: pointer;

        .hidden-bar {
          position: absolute;
          left: 0;
          z-index: -50;
          top: 28px;
          opacity: 0 !important;
          transform: translateY(50px);
          transition: all 0.25s;
          visibility: hidden !important;
          width: 100%;
        }

        &:hover {
          .hidden-bar {
            opacity: 1 !important;
            transform: translateY(0);
            transition: all 0.25s;
            width: 100% !important;
            visibility: visible !important;
          }
        }
      }
    }
  }

  .header .header-bottom {
    overflow: visible;
  }

  .single-content-description {
    color: #1d2024;
    font-size: 14px;
    font-style: normal;
    font-weight: 400;
    line-height: 136%;
  }
}

.access {
  position: relative;
  opacity: 1;
  background: #4119bb;
  transition: 0.2s all;
}

.access-close {
  position: absolute;
  width: 29px;
  right: 20%;
  top: 70px;
  z-index: -1;
  opacity: 0;
  transition: 0.2s all;
}

.access-active {
  opacity: 1;
  z-index: 3;
}

.el-collapse-item__header {
  border: none;
  height: 35px;
}

.el-collapse {
  border: none;
  margin-top: 10px;
}

i.el-icon-arrow-right {
  transform: rotate(-90deg);
}

i.is-active {
  transform: rotate(90deg);
}

.call-center__text {
  font-style: normal;
  font-weight: normal;
  font-size: 1rem;
  line-height: 130%;
  text-align: right;
  color: #ffffff;
}

.uic {
  display: flex;
  align-items: center;
  position: relative;
  gap: 8px;
  justify-content: flex-end;

  .uicLogo {
    transition: 0.3s ease-in-out;
  }

  .uicName {
    transform: translateX(20%);
    // transform: scale(0);
    transition: 0.3s ease-in-out;
    z-index: -1;
    opacity: 0;
    @media (max-width: 750px) {
      display: none;
    }
  }

  .uicLogo:hover ~ .uicName {
    transform: translateX(0);
    // transform: scale(1);
    z-index: 1;
    opacity: 1;
  }
}

//.top-link__span {
//  display: flex;
//  align-items: center;
//  justify-content: center;
//
//  &:nth-child(4) {
//    margin-right: 15px !important;
//  }
//}

@media screen and (max-width: 768px) {
  .top-link__span {
    &:nth-child(4) {
      margin-right: 120px !important;
      @media (max-width: 500px) {
        margin-right: 0 !important;
      }
    }

    a {
      li {
        font-size: 14px !important;
      }
    }
  }
}

.fade-enter-active,
.fade-leave-active {
  transition: opacity 0.5s ease;
}

.fade-enter-from,
.fade-leave-to {
  opacity: 0;
}

.top-link__span:nth-child(1) {
  a {
    li {
      margin-left: 0;
    }
  }
}
.lang_bar {
  font-size: 0.875rem;
  font-style: normal;
  font-weight: 600;
  line-height: 130%;
}

@media screen and (min-width: 991px) {
  .menu-btn {
    display: none;
  }
}
@media screen and (max-width: 991px) {
  .main-linker {
    padding: 20px 0;
  }
  .header__contact {
    margin: 12px 0 0 0 !important;
    gap: 12px !important;
  }
  .contact__center {
    text-align: left !important;
  }
}
.burger__menu {
  background: white !important;
}
@media screen and (max-width: 768px) {
  .top-linker {
    margin: 20px 0;
    gap: 6px !important;
  }

  .quote-span {
    width: 100%;
  }
}

@media screen and (max-width: 576px) {
  .header__contact {
    margin-left: 20px !important;
    justify-content: space-between;
    width: 100%;
    padding-right: 16px;
  }

  .search {
    //margin-top: -8px !important;
  }

  .close-search {
    margin-top: -7px !important;
  }

  .header-bottom {
    width: 92%;
  }

  .header__logo {
    margin-left: 20px !important;
  }

  .button-header {
    margin-left: 100px !important;
  }
}

@media screen and (max-width: 476px) {
  .header__contact {
    margin-left: 20px !important;
  }

  .button-header {
    margin-left: 0px !important;
  }
}

.sercher {
  color: #1d2024 !important;
  width: 100% !important;
}
.text-right {
  position: absolute;
  right: 20px;
}

.menu-links:hover.menu-link-item {
  color: #1d2024 !important;
}

.menu-links {
  padding: 12px 8px;
  border-radius: 8px;
  transition: 0.3s all;


  .menu-link-item {
    position: relative;
    z-index: 1 !important;
  }
}

.menu-links-wrapper {
  padding: 12px 8px;
  border-radius: 8px;
  transition: 0.3s all;

  &:hover {
    color: #2678d9 !important;
    background: #fff;
  }
}
.menu-links-wrapper:hover .menu-link-item {
  &::after {
    opacity: 1;
    visibility: visible;
  }
  &::before {
    opacity: 1;
    visibility: visible;
  }
}
</style>
<style>
.el-collapse-item.is-disabled .el-collapse-item__header {
  color: #000 !important;
}

.lang__active .dropdown-item {
  color: #1d2024 !important;
  font-size: 14px !important;
  font-style: normal !important;
  font-weight: 600 !important;
  line-height: 130% !important;
  display: flex;
  justify-content: space-between;
  padding: 11px 16px 11px 0 !important;
}
.lang__active .dropdown-item:hover {
  background-color: transparent !important;
}
.dropdown-item.nuxt-link-exact-active.nuxt-link-active {
  color: #2678d9 !important;
}
.lang__active:nth-child(even) {
  border-top: 1px solid #f6f8fb;
  border-bottom: 1px solid #f6f8fb;
}
.language .dropdown-menu {
  padding: 0 0 0 16px !important;
  border-radius: 12px !important;
  border: 1px solid #e8edf2 !important;
  background: white !important;
  box-shadow: 0 8px 20px 0 rgba(90, 98, 108, 0.16) !important;
}
.dropdown.b-dropdown.show.btn-group .change__click {
  transform: rotate(180deg) !important;
}

.contact__apply {
  padding: 12px 25px 12px 26px;
  display: flex;
  justify-content: center;
  align-items: center;
  border-radius: 8px;
  background: #e9edf2;
  gap: 8px;
  color: #1d2024;
  text-align: center;
  font-size: 14px;
  font-style: normal;
  font-weight: 600;
  line-height: 130%; /* 18.2px */
}

.contact__apply:hover {
  color: #1d2024;
}
.contact__apply:hover i {
  transform: translateX(4px);
}

.contact__apply i {
  transition: 0.3s all;
  font-size: 16px;
  color: #768194;
}

.contact__center p {
  color: #5a626c;
  font-size: 0.875rem;
  font-style: normal;
  font-weight: 500;
  line-height: 16px;
  margin-bottom: 6px;
}
.contact__center a {
  color: #1d2024;
  font-size: 1.25rem;
  font-style: normal;
  font-weight: 700;
  line-height: normal;
}
.contact__center a {
  color: #1c89c1;
}
.first_tel {
  font-weight: 400;
}

.search-form-input {
  max-width: 1144px !important;
  margin: 0 auto;
}

.header_dark .contact__center p {
  color: rgba(255, 255, 255, 0.6);
}
.header_dark .contact__center a {
  color: white;
}
.header_dark .contact__center a:hover {
  color: rgba(255, 255, 255, 0.8);
}

.header_dark .contact__apply {
  background: rgba(255, 255, 255, 0.1);
  color: white;
}
.header_dark .contact__apply i {
  color: white;
}
.uic_logo {
  margin: 0 auto;
  margin-top: 20px !important;
}
@media screen and (max-width: 768px) {
  .burger__menu {
    margin: 0;
  }
  .nav-menu .nav-menu-header-2 .nav-menu-header-bottom {
    margin-top: 0;
  }
  .mobil_header {
    padding: 0;
  }
}

.header-searchpanel {
  @media screen and (max-width: 768px) {
    padding: 1px !important;
  }
}

.header-searchpanelnot {
  padding: 2px !important;
  @media screen and (max-width: 768px) {
    padding: 0px !important;
  }
}

.header-info {
  position: absolute !important;
  bottom: 0 !important;
}

.header-info__block {
  display: flex;
  align-items: center;
  justify-content: center;
  padding-top: 20px;

  @media screen and (max-width: 600px) {
    display: block !important;
  }
}

.full-menu__adress {
  max-width: 100%;
}

.hello {
  list-style: disc;
}

@media only screen and (max-width: 821px) {
  .top__bar-left {
    padding-top: 20px !important;
  }
}
</style>
